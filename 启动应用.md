# 🚀 启动应用指南

## 方式一：使用启动脚本（推荐）

最简单的方式，一键启动：

```bash
./start.sh
```

这个脚本会自动：
1. 检查环境（Node.js、MySQL）
2. 安装依赖（如果需要）
3. 初始化数据库（如果需要）
4. 启动应用

---

## 方式二：手动启动

### Step 1: 确保MySQL正在运行

```bash
# macOS使用Homebrew
brew services start mysql

# 或使用系统服务
sudo /usr/local/mysql/support-files/mysql.server start

# 验证MySQL是否运行
mysql -u root -p1234 -e "SELECT 1"
```

### Step 2: 安装依赖（首次运行）

```bash
npm install
```

### Step 3: 初始化数据库（首次运行）

```bash
npm run db:init
```

### Step 4: 添加示例数据（可选）

```bash
npm run db:seed
```

### Step 5: 启动应用

```bash
npm start
```

---

## 预期结果

启动成功后你会看到：

1. **终端输出：**
   ```
   Compiled successfully!
   
   You can now view pomodoro-todo-app in the browser.
   
   Local:            http://localhost:3000
   ```

2. **Electron窗口自动打开**
   - 显示番茄待办应用界面
   - 左侧导航菜单
   - 任务列表页面

3. **开发工具（DevTools）自动打开**
   - 可以查看控制台输出
   - 可以检查React组件

---

## 常见问题

### ❌ 问题1：端口3000被占用

**错误信息：**
```
Something is already running on port 3000
```

**解决方案：**
```bash
# 查找占用端口的进程
lsof -i :3000

# 结束进程（替换PID为实际进程ID）
kill -9 [PID]
```

### ❌ 问题2：MySQL连接失败

**错误信息：**
```
✗ 数据库连接失败: Access denied for user 'root'@'localhost'
```

**解决方案：**
1. 确认MySQL正在运行：`brew services list`
2. 确认用户名密码正确（默认：root/1234）
3. 修改配置文件：`src/database/config.js`

### ❌ 问题3：Electron窗口不显示

**解决方案：**
```bash
# 分别启动React和Electron
# 终端1：
npm run start:react

# 终端2（等React启动后）：
npm run start:electron
```

### ❌ 问题4：依赖安装失败

**解决方案：**
```bash
# 清除缓存
npm cache clean --force

# 删除node_modules
rm -rf node_modules package-lock.json

# 重新安装
npm install
```

---

## 快速测试

启动应用后，可以快速测试以下功能：

### ✅ 测试任务管理
1. 点击"新建任务"
2. 填写任务信息
3. 保存
4. 查看任务列表

### ✅ 测试番茄钟
1. 切换到"番茄钟"页面
2. 点击"开始"按钮
3. 观察倒计时
4. 测试暂停/继续/重置

### ✅ 测试统计
1. 切换到"统计报告"页面
2. 查看任务统计数据
3. 查看番茄钟统计
4. 查看近7天趋势

### ✅ 测试设置
1. 切换到"设置"页面
2. 修改番茄钟时长
3. 保存设置
4. 返回番茄钟页面验证

---

## 停止应用

### 正常停止
- 关闭Electron窗口
- 或在终端按 `Ctrl + C`

### 强制停止
```bash
# 如果无法正常停止
pkill -f electron
pkill -f react-scripts
```

---

## 开发模式特性

- ✅ 热重载：修改代码后自动刷新
- ✅ DevTools：按 `Cmd+Option+I` 打开开发工具
- ✅ React DevTools：可以检查组件状态
- ✅ 控制台日志：查看数据库操作和错误信息

---

## 下一步

应用启动后，推荐查看：
- 📖 `测试步骤.md` - 详细的功能测试指南
- 📖 `功能清单.md` - 完整的功能列表
- 📖 `README.md` - 项目说明文档

---

**准备好了吗？运行 `npm start` 开始使用吧！** 🎉

