# 🧪 应用功能测试步骤

## 前置条件

✅ MySQL服务已启动  
✅ 已运行 `npm install`  
✅ 已运行 `npm run db:init`  
✅ 已运行 `npm run db:seed`（添加示例数据）

## 1. 启动应用测试

### 测试步骤：
```bash
npm start
```

### 预期结果：
- ✅ React开发服务器在3000端口启动
- ✅ Electron窗口自动打开
- ✅ 看到番茄待办应用主界面
- ✅ 左侧显示导航菜单
- ✅ 右上角显示当前日期

---

## 2. 任务列表功能测试

### 2.1 查看任务列表
**操作：** 点击左侧菜单"任务列表"

**预期结果：**
- ✅ 显示所有任务（应该有8个示例任务）
- ✅ 任务按状态分组显示
- ✅ 每个任务显示：标题、分类、优先级、状态
- ✅ 任务卡片有不同颜色标签

### 2.2 创建新任务
**操作：**
1. 点击右上角"新建任务"按钮
2. 填写任务信息：
   - 标题：测试任务 001
   - 描述：这是一个测试任务
   - 分类：选择"工作"
   - 优先级：选择"高"
   - 状态：待办
   - 截止时间：选择明天
3. 点击"保存"

**预期结果：**
- ✅ 显示"任务创建成功"提示
- ✅ 任务列表中出现新任务
- ✅ 新任务显示正确的信息

### 2.3 编辑任务
**操作：**
1. 点击任意任务卡片右侧的"编辑"图标
2. 修改任务标题
3. 点击"保存"

**预期结果：**
- ✅ 显示"任务更新成功"提示
- ✅ 任务信息更新显示

### 2.4 更新任务状态
**操作：** 点击任务右侧的状态下拉菜单，选择不同状态

**预期结果：**
- ✅ 状态立即更新
- ✅ 显示"状态已更新"提示

### 2.5 删除任务
**操作：**
1. 点击任务右侧的"删除"图标
2. 确认删除

**预期结果：**
- ✅ 显示确认对话框
- ✅ 确认后任务被删除
- ✅ 显示"任务已删除"提示

### 2.6 任务筛选
**操作：** 点击顶部的不同标签（全部、待办、进行中、已完成）

**预期结果：**
- ✅ 只显示对应状态的任务
- ✅ 标签显示正确的任务数量

---

## 3. 番茄钟功能测试

### 3.1 查看番茄钟页面
**操作：** 点击左侧菜单"番茄钟"

**预期结果：**
- ✅ 显示今日统计卡片（今日番茄钟、专注时长等）
- ✅ 显示大型倒计时器（默认25:00）
- ✅ 显示进度环
- ✅ 显示任务选择下拉框
- ✅ 显示时长设置（工作时长、休息时长）

### 3.2 开始番茄钟（不关联任务）
**操作：**
1. 不选择任务
2. 点击"开始"按钮

**预期结果：**
- ✅ 倒计时开始
- ✅ 时间每秒递减
- ✅ 进度环逐渐增加
- ✅ "开始"按钮变为"暂停"按钮

### 3.3 暂停和继续
**操作：**
1. 点击"暂停"按钮
2. 等待几秒
3. 点击"继续"按钮

**预期结果：**
- ✅ 暂停时倒计时停止
- ✅ 继续后倒计时恢复

### 3.4 重置番茄钟
**操作：** 点击"重置"按钮

**预期结果：**
- ✅ 倒计时恢复到初始值
- ✅ 进度环归零
- ✅ 状态重置

### 3.5 自定义时长
**操作：**
1. 修改工作时长为15分钟
2. 修改休息时长为3分钟
3. 点击"开始"

**预期结果：**
- ✅ 倒计时显示15:00
- ✅ 可以正常启动

### 3.6 番茄钟完成通知（需要等待或手动测试）
**操作：** 将工作时长设为1分钟，启动并等待完成

**预期结果：**
- ✅ 倒计时到0:00时显示通知
- ✅ 通知标题："番茄钟完成！"
- ✅ 自动切换到休息时间
- ✅ 今日统计数据更新

### 3.7 关联任务的番茄钟
**操作：**
1. 选择一个任务
2. 启动番茄钟

**预期结果：**
- ✅ 番茄钟记录关联到该任务
- ✅ 统计中能看到该任务的专注时间

---

## 4. 统计报告功能测试

### 4.1 查看统计页面
**操作：** 点击左侧菜单"统计报告"

**预期结果：**
- ✅ 显示任务统计卡片（总任务、已完成、进行中、待办）
- ✅ 显示完成率
- ✅ 显示今日完成任务数
- ✅ 显示今日专注时长
- ✅ 显示番茄钟统计
- ✅ 显示近7天番茄钟表格

### 4.2 验证统计数据
**操作：** 查看各项数据

**预期结果：**
- ✅ 任务总数正确（应该是8个示例任务）
- ✅ 各状态任务数量正确
- ✅ 今日番茄钟数量正确（应该是4个）
- ✅ 今日专注时长正确（应该是100分钟）
- ✅ 近7天数据表格显示正确

---

## 5. 设置功能测试

### 5.1 查看设置页面
**操作：** 点击左侧菜单"设置"

**预期结果：**
- ✅ 显示番茄钟设置（工作时长、休息时长等）
- ✅ 显示通知设置（启用通知、通知声音）
- ✅ 显示界面设置（主题、语言）
- ✅ 显示应用版本信息

### 5.2 修改设置
**操作：**
1. 修改工作时长为30分钟
2. 打开自动开始休息
3. 点击"保存设置"

**预期结果：**
- ✅ 显示"设置已保存"提示
- ✅ 设置保存到localStorage
- ✅ 返回番茄钟页面时使用新设置

### 5.3 恢复默认设置
**操作：** 点击"恢复默认"按钮

**预期结果：**
- ✅ 所有设置恢复为默认值
- ✅ 显示"已恢复默认设置"提示

---

## 6. 数据库功能测试

### 6.1 运行数据库测试
```bash
npm run db:test
```

**预期结果：**
- ✅ 所有9项测试通过
- ✅ 数据库连接正常
- ✅ CRUD操作正常
- ✅ 统计查询正常

---

## 7. 界面响应测试

### 7.1 窗口大小调整
**操作：** 拖动窗口边缘调整大小

**预期结果：**
- ✅ 界面元素自适应
- ✅ 布局不会错乱
- ✅ 滚动条正常工作

### 7.2 深色模式（如果实现）
**操作：** 在设置中切换主题

**预期结果：**
- ✅ 界面颜色切换
- ✅ 文字清晰可读

---

## 8. 错误处理测试

### 8.1 数据库断开
**操作：** 停止MySQL服务，尝试创建任务

**预期结果：**
- ✅ 显示错误提示
- ✅ 应用不会崩溃

### 8.2 无效输入
**操作：** 创建任务时不填写标题

**预期结果：**
- ✅ 显示验证错误提示
- ✅ 不允许提交

---

## 9. 性能测试

### 9.1 大量数据
**操作：** 创建50+个任务

**预期结果：**
- ✅ 列表滚动流畅
- ✅ 筛选响应快速
- ✅ 不卡顿

---

## 10. 打包测试

### 10.1 构建应用
```bash
npm run build
```

**预期结果：**
- ✅ 构建成功，生成build目录
- ✅ 无错误和警告（或只有不影响功能的警告）

### 10.2 打包应用
```bash
npm run package
```

**预期结果：**
- ✅ 打包成功
- ✅ 在dist目录生成.app或.dmg文件
- ✅ 打包的应用可以独立运行

---

## 测试总结

### 必须通过的测试：
- [ ] 应用启动正常
- [ ] 任务CRUD功能正常
- [ ] 番茄钟计时功能正常
- [ ] 通知功能正常
- [ ] 统计数据准确
- [ ] 数据库操作正常

### 可选测试：
- [ ] 设置保存和恢复
- [ ] 窗口大小调整
- [ ] 大量数据性能
- [ ] 应用打包

---

## 遇到问题？

1. **应用无法启动** - 检查MySQL服务、端口占用
2. **数据不显示** - 运行 `npm run db:seed` 添加示例数据
3. **通知不工作** - 检查系统通知权限
4. **样式错乱** - 清除浏览器缓存，重启应用

---

**测试完成后，应用就可以正常使用了！** 🎉

